(()=>{var __webpack_modules__={995:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// UNUSED EXPORTS: default\n\n;// CONCATENATED MODULE: external \"angular\"\nconst external_angular_namespaceObject = angular;\nvar external_angular_default = /*#__PURE__*/__webpack_require__.n(external_angular_namespaceObject);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(72);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(825);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(659);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(56);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(540);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(113);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./chat/convo-chat.scss\nvar convo_chat = __webpack_require__(583);\nvar convo_chat_default = /*#__PURE__*/__webpack_require__.n(convo_chat);\n;// CONCATENATED MODULE: ./chat/convo-chat.scss\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\n\n      options.insert = insertBySelector_default().bind(null, \"head\");\n    \noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()((convo_chat_default()), options);\n\n\n\n\n       /* harmony default export */ const chat_convo_chat = ((convo_chat_default()) && (convo_chat_default()).locals ? (convo_chat_default()).locals : undefined);\n\n;// CONCATENATED MODULE: ./chat/convo-chat-api.js\nConvoChatApi.$inject = [\"$log\", \"$http\", \"CONVO_PUBLIC_API_BASE_URL\"];\nConvoChatApi.$inject = [\"$log\", \"$http\", \"CONVO_PUBLIC_API_BASE_URL\"];\n/* @ngInject */\nfunction ConvoChatApi($log, $http, CONVO_PUBLIC_API_BASE_URL) {\n  this.sendMessage = sendMessage;\n  function sendMessage(serviceId, installationId, deviceId, sessionId, text, isLaunch, variant, timezone) {\n    if (!variant) {\n      variant = 'develop';\n    }\n    return $http({\n      method: \"post\",\n      url: CONVO_PUBLIC_API_BASE_URL + '/service-run/convo_chat/' + variant + '/' + serviceId,\n      data: {\n        installation_dd: installationId,\n        device_id: deviceId,\n        session_id: sessionId,\n        text: text,\n        launch: isLaunch,\n        timezone: timezone\n      }\n    }).then(function (response) {\n      $log.log('ConvoChatApi sendMessage response.data', response.data);\n      return response.data;\n    });\n  }\n}\n;\n// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js\nvar stringify = __webpack_require__(146);\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n;// CONCATENATED MODULE: ./chat/convo-chat-persister.js\nConvoChatPersister.$inject = [\"$log\", \"$window\"];\nConvoChatPersister.$inject = [\"$log\", \"$window\"];\n\n/* @ngInject */\nfunction ConvoChatPersister($log, $window) {\n  this.createPersister = createPersister;\n  this.getUserId = getUserId;\n  this.getInstallationId = getInstallationId;\n  this.getDeviceId = getDeviceId;\n  function getUserId() {\n    var user_id = $window.localStorage.getItem('convo_chat_user_id');\n    if (!user_id) {\n      user_id = _generateUUIDV4();\n      $window.localStorage.setItem('convo_chat_user_id', user_id);\n    }\n    return user_id;\n  }\n  function getInstallationId(serviceId) {\n    return getDeviceId() + '_' + serviceId;\n  }\n  function getDeviceId() {\n    return getUserId();\n  }\n  function _generateUUIDV4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n      return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n    });\n  }\n  function createPersister(serviceId, sessionId) {\n    return new ChatPersister(serviceId, sessionId);\n  }\n  function ChatPersister(serviceId) {\n    this.serviceId = serviceId;\n  }\n  ChatPersister.prototype.getCurrentSessionId = function () {\n    var key = 'convo_chat_session' + getDeviceId();\n    var session_id = $window.localStorage.getItem(key);\n    if (!session_id) {\n      session_id = this.startNewSession();\n    }\n    return session_id;\n  };\n  ChatPersister.prototype.startNewSession = function () {\n    var key = 'convo_chat_session' + getDeviceId();\n    var old_session_id = $window.localStorage.getItem(key);\n    if (old_session_id) {\n      this._clearSessionInformation(old_session_id);\n    }\n    var session_id = _generateUUIDV4();\n    $window.localStorage.setItem(key, session_id);\n    return session_id;\n  };\n  ChatPersister.prototype.isOpen = function (defaultOpen) {\n    var session = this._getSessionInformation();\n    $log.log('ChatPersister isOpen()', 'session', session);\n    if ('open' in session) {\n      return session['open'];\n    }\n    return defaultOpen;\n  };\n  ChatPersister.prototype.setOpen = function () {\n    var session = this._getSessionInformation();\n    session['open'] = true;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.setClosed = function () {\n    var session = this._getSessionInformation();\n    session['open'] = false;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.setMessages = function (messages) {\n    var session = this._getSessionInformation();\n    session['messages'] = messages;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.getMessages = function () {\n    var session = this._getSessionInformation();\n    if ('messages' in session) {\n      return session['messages'];\n    }\n    return [];\n  };\n  ChatPersister.prototype.sessionStarted = function () {\n    var session = this._getSessionInformation();\n    return session['sessionStarted'];\n  };\n  ChatPersister.prototype.startSession = function () {\n    var session = this._getSessionInformation();\n    session['sessionStarted'] = true;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype._getSessionInformation = function () {\n    var session = $window.localStorage.getItem(this._getSessionKey(this.getCurrentSessionId()));\n    if (typeof session === 'undefined' || session === null) {\n      $log.log('ChatPersister _getSessionInformation() returning empty sessionId', this.getCurrentSessionId(), 'session', session);\n      return {\n        sessionStarted: false\n      };\n    }\n    $log.log('ChatPersister _getSessionInformation() sessionId', this.getCurrentSessionId(), 'session', session);\n    return JSON.parse(session);\n  };\n  ChatPersister.prototype._setSessionInformation = function (session) {\n    var value = stringify_default()(session);\n    $log.log('ChatPersister _setSessionInformation() saving value sessionId', this.getCurrentSessionId(), 'value', value);\n    $window.localStorage.setItem(this._getSessionKey(this.getCurrentSessionId()), value);\n  };\n  ChatPersister.prototype._clearSessionInformation = function (sessionId) {\n    $window.localStorage.removeItem(this._getSessionKey(sessionId));\n  };\n  ChatPersister.prototype._getSessionKey = function (sessionId) {\n    return 'chat_session_' + this.serviceId + '_' + sessionId;\n  };\n}\n;\n// EXTERNAL MODULE: ./chat/chatbox.tmpl.html\nvar chatbox_tmpl = __webpack_require__(546);\nvar chatbox_tmpl_default = /*#__PURE__*/__webpack_require__.n(chatbox_tmpl);\n;// CONCATENATED MODULE: ./chat/chatbox.directive.js\nconvoChatbox.$inject = [\"$log\", \"$sce\", \"$timeout\", \"$window\", \"$location\", \"ConvoChatApi\", \"ConvoChatPersister\"];\nconvoChatbox.$inject = [\"$log\", \"$sce\", \"$timeout\", \"$window\", \"$location\", \"ConvoChatApi\", \"ConvoChatPersister\"];\n\nvar showdown = __webpack_require__(552);\n\n/* @ngInject */\nfunction convoChatbox($log, $sce, $timeout, $window, $location, ConvoChatApi, ConvoChatPersister) {\n  $log.log('convoChatbox init');\n  return {\n    restrict: 'E',\n    template: (chatbox_tmpl_default()),\n    scope: {\n      serviceId: '=',\n      name: '=?',\n      variant: '=?'\n    },\n    link: function link($scope, $elem, $attrs) {\n      $log.log('convoChatbox link $scope.serviceId', $scope.serviceId);\n      var REPROMPT_TIMEOUT = 20 * 1000;\n      var SEQUENCE_TIMEOUT = 2 * 1000;\n      var sending = true;\n      var initialized = false;\n      var reprompt_timeout = null;\n      var sequence_timeout = null;\n      var device_id = ConvoChatPersister.getDeviceId();\n      var installation_id = ConvoChatPersister.getInstallationId($scope.serviceId);\n      var persister = ConvoChatPersister.createPersister($scope.serviceId);\n      var session_id = persister.getCurrentSessionId();\n      var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      $scope.message = '';\n      $scope.messages = [];\n      $scope.collapsed = !persister.isOpen(false);\n      $log.log('convoChatbox link() $scope.collapsed', $scope.collapsed, 'session_id', session_id);\n      if (!$scope.collapsed) {\n        _init();\n      }\n      var input = $elem.find('input[type=text]')[0];\n      $log.log('convoChatbox link input', input);\n      $window.onfocus = function () {\n        $log.log('convoChatbox onfocus');\n        $scope.$apply(function () {\n          $scope.messages = persister.getMessages();\n          $scope.collapsed = !persister.isOpen(false);\n          session_id = persister.getCurrentSessionId();\n          //                    if ( $scope.messages.length) {\n          //                        initialized = true;\n          //                        sending = false;\n          //                    } else {\n          //                        initialized = false;\n          //                        sending = true;\n          //                    }\n        });\n      };\n      $scope.formSubmitted = function () {\n        $log.log('convoChatbox formSubmitted()', $scope.message);\n        var msg = {\n          text: $scope.message,\n          source: 'user'\n        };\n        sending = true;\n        _appendBreak();\n        _appendUserMessage(msg);\n        _cancelMsgs();\n        ConvoChatApi.sendMessage($scope.serviceId, installation_id, device_id, session_id, $scope.message, false, $scope.variant, timezone).then(function (response) {\n          $log.log('convoChatbox formSubmitted() sendMessage() response', response);\n          $scope.message = '';\n          _readResponse(response);\n        }, function (reason) {\n          $log.error('convoChatbox formSubmitted() sendMessage() reason', reason);\n          _handleError(reason);\n        })[\"finally\"](function () {\n          $log.log('convoChatbox formSubmitted() sendMessage() finally');\n          sending = false;\n        });\n      };\n      $scope.applyMarkdown = function (msg) {\n        if (msg.source != 'convo') {\n          return $sce.trustAsHtml(msg.text);\n        }\n        var converter = new showdown.Converter({\n          disableForced4SpacesIndentedSublists: true\n        });\n        var htmlContent = converter.makeHtml(msg.text);\n        return $sce.trustAsHtml(htmlContent);\n      };\n      $scope.formDisabled = function () {\n        return sending || $scope.message.trim() == '';\n      };\n      $scope.isSending = function () {\n        return sending;\n      };\n      $scope.close = function () {\n        $scope.collapsed = true;\n        persister.setClosed();\n      };\n      $scope.reset = function () {\n        session_id = persister.startNewSession();\n        persister.setClosed();\n        $scope.message = '';\n        $scope.messages = [];\n        $scope.collapsed = true;\n        sending = true;\n        initialized = false;\n      };\n      $scope.open = function () {\n        $scope.collapsed = false;\n        persister.setOpen();\n      };\n      function _init() {\n        $log.log('convoChatbox _init()');\n        initialized = true;\n        if (persister.sessionStarted()) {\n          var messages = persister.getMessages();\n          $log.log('convoChatbox _init() session exists messages', messages);\n          $scope.messages = messages;\n          sending = false;\n        } else {\n          ConvoChatApi.sendMessage($scope.serviceId, installation_id, device_id, session_id, '', true, $scope.variant, timezone).then(function (response) {\n            $log.log('convoChatbox _init() response', response);\n            persister.startSession();\n            _readResponse(response);\n          }, function (reason) {\n            $log.error('convoChatbox _init() reason', reason);\n            _handleError(reason);\n          })[\"finally\"](function () {\n            $log.log('convoChatbox _init() finally');\n            sending = false;\n          });\n        }\n      }\n      function _handleError(reason) {\n        if (reason.status === 403 || reason.data && reason.data.code === \"rest_cookie_invalid_nonce\") {\n          if ($window.confirm(\"Your chat session needs to be refreshed to continue securely. Click 'OK' to refresh the page. Please note: if you have unsaved text, make sure to copy it before refreshing.\")) {\n            sending = true;\n            $window.location.reload();\n          }\n        }\n      }\n      function _readResponse(data) {\n        _appendBreak();\n        _appendSequence(data.text_responses, true);\n        if (data.text_reprompts.length) {\n          reprompt_timeout = $timeout(function () {\n            _appendBreak();\n            _appendSequence(data.text_reprompts, true);\n          }, REPROMPT_TIMEOUT);\n        }\n      }\n      function _appendSequence(msgs, immediate) {\n        if (immediate) {\n          var msg = msgs.shift();\n          _appendConvoResponse([{\n            text: msg,\n            source: 'convo'\n          }]);\n        }\n        if (msgs.length) {\n          sequence_timeout = $timeout(function () {\n            var msg = msgs.shift();\n            _appendConvoResponse([{\n              text: msg,\n              source: 'convo'\n            }]);\n            if (msgs.length) {\n              _appendSequence(msgs, false);\n            }\n          }, SEQUENCE_TIMEOUT);\n        }\n      }\n      function _cancelMsgs() {\n        $timeout.cancel(reprompt_timeout);\n        reprompt_timeout = null;\n        $timeout.cancel(sequence_timeout);\n        sequence_timeout = null;\n      }\n      function _appendBreak() {\n        $scope.messages.push({\n          type: 'break'\n        });\n        persister.setMessages($scope.messages);\n      }\n      function _appendConvoResponse(msgs) {\n        $log.log('convoChatbox _appendConvoResponse()', msgs);\n        for (var i = 0; i < msgs.length; i++) {\n          $scope.messages.push(msgs[i]);\n        }\n        persister.setMessages($scope.messages);\n      }\n      function _appendUserMessage(msg) {\n        $log.log('convoChatbox _appendUserMessage()', msg);\n        $scope.messages.push(msg);\n        persister.setMessages($scope.messages);\n      }\n\n      // POSTPONED INIT\n      $scope.$watch('collapsed', function (val) {\n        $log.log('convoChatbox $watch collapsed');\n        if (!val && !initialized) {\n          _init();\n        }\n      });\n\n      // ANIMATE SCROLL\n      $scope.$watchCollection('messages', function () {\n        $log.log('convoChatbox $watchCollection()');\n        setTimeout(function () {\n          $log.log('convoChatbox queue()');\n          var $list = $elem.find('#chat-panel-body');\n          var scrollHeight = $list.prop('scrollHeight');\n          $list.animate({\n            scrollTop: scrollHeight\n          }, 500);\n        }, 10);\n      });\n\n      // FOCUS\n      $scope.$watch(function () {\n        return $scope.isSending();\n      }, function (sending) {\n        $log.log('convoChatbox $watch() sending', sending);\n        setTimeout(function () {\n          $log.log('convoChatbox input.focus()');\n          input.focus();\n        }, 10);\n      });\n    }\n  };\n}\n;// CONCATENATED MODULE: ./chat/index.js\n\n\n\n\n\n\n/* @ngInject */\n/* harmony default export */ const chat = (external_angular_default().module('convo.chat', []).directive('convoChatbox', convoChatbox).service('ConvoChatApi', ConvoChatApi).service('ConvoChatPersister', ConvoChatPersister).name);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk1LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFCQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7QUNwQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7QUMvSkE7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3UUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC9leHRlcm5hbCB2YXIgXCJhbmd1bGFyXCI/MzRmNCIsIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9jb252by1jaGF0LnNjc3M/OWNkMCIsIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9jb252by1jaGF0LWFwaS5qcz85MGE5Iiwid2VicGFjazovL2NvbnZvd29ya3Mtd3AvLi9jaGF0L2NvbnZvLWNoYXQtcGVyc2lzdGVyLmpzPzZjNGEiLCJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvY2hhdGJveC5kaXJlY3RpdmUuanM/ZDY3ZiIsIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9pbmRleC5qcz8xMjdmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBhbmd1bGFyOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29udm8tY2hhdC5zY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY29udm8tY2hhdC5zY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiLyogQG5nSW5qZWN0ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb252b0NoYXRBcGkoICRsb2csICRodHRwLCBDT05WT19QVUJMSUNfQVBJX0JBU0VfVVJMKVxue1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSBzZW5kTWVzc2FnZTtcblxuICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCBzZXJ2aWNlSWQsIGluc3RhbGxhdGlvbklkLCBkZXZpY2VJZCwgc2Vzc2lvbklkLCB0ZXh0LCBpc0xhdW5jaCwgdmFyaWFudCwgdGltZXpvbmUgKVxuICAgIHtcbiAgICAgICAgaWYgKCAhdmFyaWFudCkge1xuICAgICAgICAgICAgdmFyaWFudCA9ICAgJ2RldmVsb3AnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCIsXG4gICAgICAgICAgICB1cmw6IENPTlZPX1BVQkxJQ19BUElfQkFTRV9VUkwgKyAnL3NlcnZpY2UtcnVuL2NvbnZvX2NoYXQvJyArIHZhcmlhbnQgKyAnLycgKyBzZXJ2aWNlSWQsXG4gICAgICAgICAgICBkYXRhIDogeyBpbnN0YWxsYXRpb25fZGQgOiBpbnN0YWxsYXRpb25JZCwgZGV2aWNlX2lkIDogZGV2aWNlSWQsIHNlc3Npb25faWQgOiBzZXNzaW9uSWQsIHRleHQgOiB0ZXh0LCBsYXVuY2ggOiBpc0xhdW5jaCwgdGltZXpvbmUgOiB0aW1lem9uZX1cbiAgICAgICAgfSkudGhlbiggZnVuY3Rpb24gKCByZXNwb25zZSkge1xuICAgICAgICAgICAgJGxvZy5sb2coJ0NvbnZvQ2hhdEFwaSBzZW5kTWVzc2FnZSByZXNwb25zZS5kYXRhJywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbiIsIi8qIEBuZ0luamVjdCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udm9DaGF0UGVyc2lzdGVyKCAkbG9nLCAkd2luZG93KVxue1xuICAgIHRoaXMuY3JlYXRlUGVyc2lzdGVyID0gY3JlYXRlUGVyc2lzdGVyO1xuICAgIHRoaXMuZ2V0VXNlcklkID0gZ2V0VXNlcklkO1xuICAgIHRoaXMuZ2V0SW5zdGFsbGF0aW9uSWQgPSBnZXRJbnN0YWxsYXRpb25JZDtcbiAgICB0aGlzLmdldERldmljZUlkID0gZ2V0RGV2aWNlSWQ7XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0VXNlcklkKClcbiAgICB7XG4gICAgICAgIHZhciB1c2VyX2lkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSggJ2NvbnZvX2NoYXRfdXNlcl9pZCcpO1xuICAgICAgICBpZiAoICF1c2VyX2lkKSB7XG4gICAgICAgICAgICB1c2VyX2lkID0gX2dlbmVyYXRlVVVJRFY0KCk7XG4gICAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCAnY29udm9fY2hhdF91c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVzZXJfaWQ7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGdldEluc3RhbGxhdGlvbklkKCBzZXJ2aWNlSWQpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0RGV2aWNlSWQoKSArICdfJyArIHNlcnZpY2VJZDtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0RGV2aWNlSWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldFVzZXJJZCgpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBfZ2VuZXJhdGVVVUlEVjQoKSB7XG4gICAgICAgIHJldHVybiAoWzFlN10gKyAtMWUzICsgLTRlMyArIC04ZTMgKyAtMWUxMSkucmVwbGFjZSgvWzAxOF0vZywgYyA9PlxuICAgICAgICAgICAgKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNilcbiAgICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY3JlYXRlUGVyc2lzdGVyKCBzZXJ2aWNlSWQsIHNlc3Npb25JZClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFBlcnNpc3Rlciggc2VydmljZUlkLCBzZXNzaW9uSWQpO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBmdW5jdGlvbiBDaGF0UGVyc2lzdGVyKCBzZXJ2aWNlSWQpXG4gICAge1xuICAgICAgICB0aGlzLnNlcnZpY2VJZCA9IHNlcnZpY2VJZDtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuZ2V0Q3VycmVudFNlc3Npb25JZCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBrZXkgPSAnY29udm9fY2hhdF9zZXNzaW9uJyArIGdldERldmljZUlkKCk7XG4gICAgICAgIHZhciBzZXNzaW9uX2lkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgga2V5KTtcbiAgICAgICAgXG4gICAgICAgIGlmICggIXNlc3Npb25faWQpIHtcbiAgICAgICAgICAgIHNlc3Npb25faWQgPSAgdGhpcy5zdGFydE5ld1Nlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNlc3Npb25faWQ7XG4gICAgfSAgICBcbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5zdGFydE5ld1Nlc3Npb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIga2V5ID0gJ2NvbnZvX2NoYXRfc2Vzc2lvbicgKyBnZXREZXZpY2VJZCgpO1xuICAgICAgICB2YXIgb2xkX3Nlc3Npb25faWQgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCBrZXkpO1xuICAgICAgICBpZiAoIG9sZF9zZXNzaW9uX2lkKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGVhclNlc3Npb25JbmZvcm1hdGlvbiggb2xkX3Nlc3Npb25faWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZXNzaW9uX2lkID0gX2dlbmVyYXRlVVVJRFY0KCk7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oIGtleSwgc2Vzc2lvbl9pZCk7XG4gICAgICAgIHJldHVybiBzZXNzaW9uX2lkO1xuICAgIH0gICAgXG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuaXNPcGVuID0gZnVuY3Rpb24oIGRlZmF1bHRPcGVuKVxuICAgIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24oKTtcbiAgICAgICAgXG4gICAgICAgICRsb2cubG9nKCdDaGF0UGVyc2lzdGVyIGlzT3BlbigpJywgJ3Nlc3Npb24nLCBzZXNzaW9uKTtcbiAgICAgICAgXG4gICAgICAgIGlmICggJ29wZW4nIGluIHNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uWydvcGVuJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRPcGVuO1xuICAgIH1cbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5zZXRPcGVuID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24oKTtcbiAgICAgICAgc2Vzc2lvblsnb3BlbiddID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2V0U2Vzc2lvbkluZm9ybWF0aW9uKCBzZXNzaW9uKTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuc2V0Q2xvc2VkID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24oKTtcbiAgICAgICAgc2Vzc2lvblsnb3BlbiddID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFNlc3Npb25JbmZvcm1hdGlvbiggc2Vzc2lvbik7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLnNldE1lc3NhZ2VzID0gZnVuY3Rpb24oIG1lc3NhZ2VzKVxuICAgIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24oKTtcbiAgICAgICAgc2Vzc2lvblsnbWVzc2FnZXMnXSA9IG1lc3NhZ2VzO1xuICAgICAgICB0aGlzLl9zZXRTZXNzaW9uSW5mb3JtYXRpb24oIHNlc3Npb24pO1xuICAgIH1cbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5nZXRNZXNzYWdlcyA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoICdtZXNzYWdlcycgaW4gc2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25bJ21lc3NhZ2VzJ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5zZXNzaW9uU3RhcnRlZCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIHJldHVybiBzZXNzaW9uWydzZXNzaW9uU3RhcnRlZCddO1xuICAgIH1cbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5zdGFydFNlc3Npb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuX2dldFNlc3Npb25JbmZvcm1hdGlvbigpO1xuICAgICAgICBzZXNzaW9uWydzZXNzaW9uU3RhcnRlZCddID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2V0U2Vzc2lvbkluZm9ybWF0aW9uKCBzZXNzaW9uKTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuX2dldFNlc3Npb25JbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSggdGhpcy5fZ2V0U2Vzc2lvbktleSggdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkpKTtcbiAgICAgICAgaWYgKCB0eXBlb2YoIHNlc3Npb24pID09PSAndW5kZWZpbmVkJyB8fCBzZXNzaW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAkbG9nLmxvZygnQ2hhdFBlcnNpc3RlciBfZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCkgcmV0dXJuaW5nIGVtcHR5IHNlc3Npb25JZCcsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpLCAnc2Vzc2lvbicsIHNlc3Npb24pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RhcnRlZCA6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkbG9nLmxvZygnQ2hhdFBlcnNpc3RlciBfZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCkgc2Vzc2lvbklkJywgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCksICdzZXNzaW9uJywgc2Vzc2lvbik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uKTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuX3NldFNlc3Npb25JbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKCBzZXNzaW9uKVxuICAgIHtcbiAgICAgICAgdmFyIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkoIHNlc3Npb24pO1xuICAgICAgICBcbiAgICAgICAgJGxvZy5sb2coJ0NoYXRQZXJzaXN0ZXIgX3NldFNlc3Npb25JbmZvcm1hdGlvbigpIHNhdmluZyB2YWx1ZSBzZXNzaW9uSWQnLCB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKSwgJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICBcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSggdGhpcy5fZ2V0U2Vzc2lvbktleSggdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCkpLCB2YWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLl9jbGVhclNlc3Npb25JbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKCBzZXNzaW9uSWQpXG4gICAge1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCB0aGlzLl9nZXRTZXNzaW9uS2V5KCBzZXNzaW9uSWQpKTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuX2dldFNlc3Npb25LZXkgPSBmdW5jdGlvbiggc2Vzc2lvbklkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICdjaGF0X3Nlc3Npb25fJyArIHRoaXMuc2VydmljZUlkICsgJ18nICsgc2Vzc2lvbklkO1xuICAgIH0gICBcbn07XG5cblxuIiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vY2hhdGJveC50bXBsLmh0bWwnO1xuXG5jb25zdCBzaG93ZG93biA9IHJlcXVpcmUoJ3Nob3dkb3duJyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29udm9DaGF0Ym94KCRsb2csICRzY2UsICR0aW1lb3V0LCAkd2luZG93LCAkbG9jYXRpb24sIENvbnZvQ2hhdEFwaSwgQ29udm9DaGF0UGVyc2lzdGVyKSB7XG5cbiAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGluaXQnKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHNlcnZpY2VJZDogJz0nLFxuICAgICAgICAgICAgbmFtZTogJz0/JyxcbiAgICAgICAgICAgIHZhcmlhbnQ6ICc9PydcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW0sICRhdHRycykgXG4gICAgICAgIHtcbiAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggbGluayAkc2NvcGUuc2VydmljZUlkJywgJHNjb3BlLnNlcnZpY2VJZCk7XG5cbiAgICAgICAgICAgIHZhciBSRVBST01QVF9USU1FT1VUID0gMjAgKiAxMDAwO1xuICAgICAgICAgICAgdmFyIFNFUVVFTkNFX1RJTUVPVVQgPSAyICogMTAwMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHNlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcmVwcm9tcHRfdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgc2VxdWVuY2VfdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBkZXZpY2VfaWQgICAgICAgPSAgIENvbnZvQ2hhdFBlcnNpc3Rlci5nZXREZXZpY2VJZCgpO1xuICAgICAgICAgICAgdmFyIGluc3RhbGxhdGlvbl9pZCA9ICAgQ29udm9DaGF0UGVyc2lzdGVyLmdldEluc3RhbGxhdGlvbklkKCAkc2NvcGUuc2VydmljZUlkKTtcbiAgICAgICAgICAgIHZhciBwZXJzaXN0ZXIgICAgICAgPSAgIENvbnZvQ2hhdFBlcnNpc3Rlci5jcmVhdGVQZXJzaXN0ZXIoICRzY29wZS5zZXJ2aWNlSWQpO1xuICAgICAgICAgICAgdmFyIHNlc3Npb25faWQgICAgICA9ICAgcGVyc2lzdGVyLmdldEN1cnJlbnRTZXNzaW9uSWQoKTtcbiAgICAgICAgICAgIHZhciB0aW1lem9uZSAgICAgICAgPSAgIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcblxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmNvbGxhcHNlZCA9ICFwZXJzaXN0ZXIuaXNPcGVuKCBmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggbGluaygpICRzY29wZS5jb2xsYXBzZWQnLCAkc2NvcGUuY29sbGFwc2VkLCAnc2Vzc2lvbl9pZCcsIHNlc3Npb25faWQpO1xuXG4gICAgICAgICAgICBpZiAoICEkc2NvcGUuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgX2luaXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGlucHV0ID0gJGVsZW0uZmluZCgnaW5wdXRbdHlwZT10ZXh0XScpWzBdO1xuICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBsaW5rIGlucHV0JywgaW5wdXQpO1xuXG4gICAgICAgICAgICAkd2luZG93Lm9uZm9jdXMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggb25mb2N1cycpO1xuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzID0gcGVyc2lzdGVyLmdldE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYXBzZWQgPSAhcGVyc2lzdGVyLmlzT3BlbiggZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uX2lkICAgICAgPSAgIHBlcnNpc3Rlci5nZXRDdXJyZW50U2Vzc2lvbklkKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgaWYgKCAkc2NvcGUubWVzc2FnZXMubGVuZ3RoKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGluZyA9IGZhbHNlO1xuLy8gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRpbmcgPSB0cnVlO1xuLy8gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmZvcm1TdWJtaXR0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBmb3JtU3VibWl0dGVkKCknLCAkc2NvcGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgdmFyIG1zZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJHNjb3BlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJ3VzZXInXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIF9hcHBlbmRCcmVhaygpO1xuICAgICAgICAgICAgICAgIF9hcHBlbmRVc2VyTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgICAgIF9jYW5jZWxNc2dzKCk7XG5cbiAgICAgICAgICAgICAgICBDb252b0NoYXRBcGkuc2VuZE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2aWNlSWQsIGluc3RhbGxhdGlvbl9pZCwgZGV2aWNlX2lkLCBzZXNzaW9uX2lkLCBcbiAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UsIGZhbHNlLCAkc2NvcGUudmFyaWFudCwgdGltZXpvbmUpLnRoZW4oIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGZvcm1TdWJtaXR0ZWQoKSBzZW5kTWVzc2FnZSgpIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBfcmVhZFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ2NvbnZvQ2hhdGJveCBmb3JtU3VibWl0dGVkKCkgc2VuZE1lc3NhZ2UoKSByZWFzb24nLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlRXJyb3IoIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggZm9ybVN1Ym1pdHRlZCgpIHNlbmRNZXNzYWdlKCkgZmluYWxseScpO1xuICAgICAgICAgICAgICAgICAgICBzZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkc2NvcGUuYXBwbHlNYXJrZG93biA9IGZ1bmN0aW9uICggbXNnKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCBtc2cuc291cmNlICE9ICdjb252bycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoIG1zZy50ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29udmVydGVyID0gbmV3IHNob3dkb3duLkNvbnZlcnRlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZUZvcmNlZDRTcGFjZXNJbmRlbnRlZFN1Ymxpc3RzIDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gY29udmVydGVyLm1ha2VIdG1sKCBtc2cudGV4dCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoIGh0bWxDb250ZW50KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5mb3JtRGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRpbmcgfHwgJHNjb3BlLm1lc3NhZ2UudHJpbSgpID09ICcnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmlzU2VuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZGluZztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZXIuc2V0Q2xvc2VkKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZCAgPSBwZXJzaXN0ZXIuc3RhcnROZXdTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgcGVyc2lzdGVyLnNldENsb3NlZCgpO1xuICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJyc7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhcHNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zZXRPcGVuKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBfaW5pdCgpIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggX2luaXQoKScpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIHBlcnNpc3Rlci5zZXNzaW9uU3RhcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlcyA9IHBlcnNpc3Rlci5nZXRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IF9pbml0KCkgc2Vzc2lvbiBleGlzdHMgbWVzc2FnZXMnLCBtZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBzZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgQ29udm9DaGF0QXBpLnNlbmRNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZpY2VJZCwgaW5zdGFsbGF0aW9uX2lkLCBkZXZpY2VfaWQsIHNlc3Npb25faWQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgJycsIHRydWUsICRzY29wZS52YXJpYW50LCB0aW1lem9uZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggX2luaXQoKSByZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zdGFydFNlc3Npb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ2NvbnZvQ2hhdGJveCBfaW5pdCgpIHJlYXNvbicsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGFuZGxlRXJyb3IoIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBfaW5pdCgpIGZpbmFsbHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBfaGFuZGxlRXJyb3IoIHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGlmICggcmVhc29uLnN0YXR1cyA9PT0gNDAzIHx8IHJlYXNvbi5kYXRhICYmIHJlYXNvbi5kYXRhLmNvZGUgPT09IFwicmVzdF9jb29raWVfaW52YWxpZF9ub25jZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggJHdpbmRvdy5jb25maXJtKCBcIllvdXIgY2hhdCBzZXNzaW9uIG5lZWRzIHRvIGJlIHJlZnJlc2hlZCB0byBjb250aW51ZSBzZWN1cmVseS4gQ2xpY2sgJ09LJyB0byByZWZyZXNoIHRoZSBwYWdlLiBQbGVhc2Ugbm90ZTogaWYgeW91IGhhdmUgdW5zYXZlZCB0ZXh0LCBtYWtlIHN1cmUgdG8gY29weSBpdCBiZWZvcmUgcmVmcmVzaGluZy5cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gX3JlYWRSZXNwb25zZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgX2FwcGVuZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgX2FwcGVuZFNlcXVlbmNlKGRhdGEudGV4dF9yZXNwb25zZXMsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudGV4dF9yZXByb21wdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcHJvbXB0X3RpbWVvdXQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYXBwZW5kQnJlYWsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBlbmRTZXF1ZW5jZShkYXRhLnRleHRfcmVwcm9tcHRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgUkVQUk9NUFRfVElNRU9VVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBfYXBwZW5kU2VxdWVuY2UobXNncywgaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gbXNncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBfYXBwZW5kQ29udm9SZXNwb25zZShbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbXNnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnY29udm8nXG4gICAgICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobXNncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VfdGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc2cgPSBtc2dzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYXBwZW5kQ29udm9SZXNwb25zZShbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICdjb252bydcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2dzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBlbmRTZXF1ZW5jZShtc2dzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIFNFUVVFTkNFX1RJTUVPVVQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBfY2FuY2VsTXNncygpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocmVwcm9tcHRfdGltZW91dCk7XG4gICAgICAgICAgICAgICAgcmVwcm9tcHRfdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHNlcXVlbmNlX3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHNlcXVlbmNlX3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBfYXBwZW5kQnJlYWsoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYnJlYWsnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zZXRNZXNzYWdlcyggJHNjb3BlLm1lc3NhZ2VzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gX2FwcGVuZENvbnZvUmVzcG9uc2UobXNncykge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggX2FwcGVuZENvbnZvUmVzcG9uc2UoKScsIG1zZ3MpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5wdXNoKCBtc2dzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVyc2lzdGVyLnNldE1lc3NhZ2VzKCAkc2NvcGUubWVzc2FnZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBfYXBwZW5kVXNlck1lc3NhZ2UobXNnKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBfYXBwZW5kVXNlck1lc3NhZ2UoKScsIG1zZyk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLnB1c2goIG1zZyk7XG4gICAgICAgICAgICAgICAgcGVyc2lzdGVyLnNldE1lc3NhZ2VzKCAkc2NvcGUubWVzc2FnZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQT1NUUE9ORUQgSU5JVFxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnY29sbGFwc2VkJywgZnVuY3Rpb24gKCB2YWwpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94ICR3YXRjaCBjb2xsYXBzZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoICF2YWwgJiYgIWluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF9pbml0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFOSU1BVEUgU0NST0xMXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbWVzc2FnZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCAkd2F0Y2hDb2xsZWN0aW9uKCknKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBxdWV1ZSgpJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkbGlzdCA9ICRlbGVtLmZpbmQoJyNjaGF0LXBhbmVsLWJvZHknKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbEhlaWdodCA9ICRsaXN0LnByb3AoJ3Njcm9sbEhlaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAkbGlzdC5hbmltYXRlKHsgc2Nyb2xsVG9wOiBzY3JvbGxIZWlnaHQgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRk9DVVNcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuaXNTZW5kaW5nKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoc2VuZGluZykge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggJHdhdGNoKCkgc2VuZGluZycsIHNlbmRpbmcpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGlucHV0LmZvY3VzKCknKTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuXG5pbXBvcnQgJy4vY29udm8tY2hhdC5zY3NzJztcblxuaW1wb3J0IENvbnZvQ2hhdEFwaSBmcm9tICcuL2NvbnZvLWNoYXQtYXBpJztcbmltcG9ydCBDb252b0NoYXRQZXJzaXN0ZXIgZnJvbSAnLi9jb252by1jaGF0LXBlcnNpc3Rlcic7XG5pbXBvcnQgY29udm9DaGF0Ym94IGZyb20gJy4vY2hhdGJveC5kaXJlY3RpdmUnO1xuXG4vKiBAbmdJbmplY3QgKi9cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgnY29udm8uY2hhdCcsIFtdKVxuICAuZGlyZWN0aXZlKCdjb252b0NoYXRib3gnLCBjb252b0NoYXRib3gpXG4gIC5zZXJ2aWNlKCdDb252b0NoYXRBcGknLCBDb252b0NoYXRBcGkpXG4gIC5zZXJ2aWNlKCdDb252b0NoYXRQZXJzaXN0ZXInLCBDb252b0NoYXRQZXJzaXN0ZXIpXG4gIC5uYW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///995\n")},583:(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(765)(false);\n// imports\n\n\n// module\nexports.push([module.id, ".convo-chat pre>code{display:block;padding:5px 10px}.convo-chat input[type=text]{font-size:0.75em;padding:5px 10px;height:2.5em}.convo-chat .chat{list-style:none;margin:0 !important;padding:0 !important}.convo-chat .chat li{padding:2px 2px;margin:0;position:relative;clear:both}.convo-chat .chat li.break{line-height:8px}.convo-chat .right{float:right}.convo-chat .left{float:left}.convo-chat .btn-group,.convo-chat .btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.convo-chat .chat li .chat-body{max-width:93%;padding:5px 10px;border-radius:12px;font-size:0.75em}.convo-chat .chat li .chat-body h1{font-size:1.75em;font-weight:600}.convo-chat .chat li .chat-body h2{font-size:1.5em;margin-block-end:0.5em;font-weight:600}.convo-chat .chat li .chat-body h3{font-size:1.25em;margin-block-end:0.5em;font-weight:600}.convo-chat .chat li .chat-body h4{font-size:1em;margin-block-end:0.5em;font-weight:500}.convo-chat .chat li .chat-body code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}.convo-chat .chat li .chat-body pre{display:block;font-size:87.5%;color:#212529;margin-top:0;margin-bottom:1rem;overflow:auto}.convo-chat .chat li .chat-body pre code{font-size:inherit;color:inherit;word-break:normal;background:rgba(0,0,0,0.07);unicode-bidi:embed}.convo-chat .chat li .chat-body blockquote{margin:0;padding-left:10px;padding-top:10px;padding-bottom:10px;border-color:rgba(0,0,0,0.7);border-left-width:2px}.convo-chat .chat li .chat-body blockquote p{font-weight:600;font-size:1em;line-height:1.5em}.convo-chat .chat li .chat-body img{max-width:90%}.convo-chat .chat li .chat-body ul,.convo-chat .chat li .chat-body ol{display:block;list-style:disc outside none;margin:5px 0;padding:0 0 0 15px;line-height:1em;margin-block-start:5px}.convo-chat .chat li .chat-body ol{list-style-type:decimal}.convo-chat .chat li .chat-body li{display:list-item;margin-bottom:0;line-height:1.5em}.convo-chat .chat li .chat-body li>p{display:inline}.convo-chat .chat li .chat-body.system-message{border-top-left-radius:0;background-color:#ececec;text-align:left;border:1px solid #ececec;color:black !important}.convo-chat .chat li .chat-body.user-message{border-top-right-radius:0;border:1px solid #5595dd;background-color:#5595dd;color:white !important}.convo-chat .chat li .chat-body p{margin:5px 0;font-size:inherit;color:inherit;line-height:inherit}.convo-chat .chat .chat-img img{margin:2px 6px 0 0;width:40px}.convo-chat .card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid transparent;border-radius:0.5em;box-shadow:5px 5px 25px 5px rgba(46,61,73,0.2)}.convo-chat .card-header{background-color:#2F74EA;color:white;padding:0.75em 1em;margin:-1px;margin-bottom:0;border-bottom:1px solid rgba(0,0,0,0.125);font-weight:600;border-top-left-radius:0.5em;border-top-right-radius:0.5em}.convo-chat .card-header i{font-size:1.5em}.convo-chat .card .slidedown .fa,.convo-chat .chat .fa{margin-right:5px}.convo-chat .card-body{overflow-y:scroll}.convo-chat .convo-form-group{font-family:inherit;margin-bottom:1em}.convo-chat .convo-form-group.inline input,.convo-chat .convo-form-group.inline button{display:inline;outline-width:1px;outline-offset:-1px;outline-style:solid;outline-color:#bbb}.convo-chat .convo-form-group .convo-form-input{border:1px solid #bbb;border-radius:8px;width:100%;padding:0.3em 0.5em;transition:border-color 100ms ease-in-out;font-family:inherit}.convo-chat .convo-form-group .convo-form-input:focus{outline-color:#2F74EA;border-color:#2F74EA}.convo-chat input::placeholder{color:#bbb}.convo-chat button.btn,.convo-chat a.btn{border-radius:0px;font-size:0.9em;font-weight:500;font-family:inherit;color:white;transition:background-color 50ms ease-in;background-color:#2F74EA;border:none;outline:none;padding:0;text-transform:none;margin:0 2px 0 8px}.convo-chat .card-header .btn-group button.btn{margin:0 2px 0 8px !important}.convo-chat button.btn:hover,.convo-chat a.btn:hover{background-color:#007bff;cursor:pointer}.convo-chat button.btn.start-chat{border-radius:50%;padding:0.75em;cursor:pointer;box-shadow:5px 5px 25px 0 rgba(46,61,73,0.2)}.convo-chat #chat{display:flex;flex-flow:row nowrap;justify-content:center;align-items:stretch;margin-bottom:-1px}.convo-chat #chat-panel-body{padding:0.5em}.convo-chat .card-footer{padding:0;background-color:rgba(0,0,0,0.03)}.convo-chat .card-footer button.btn-send{color:#2F74EA;background-color:white;border:1px solid #2F74EA;outline-color:#2F74EA;outline-offset:-1px;border-collapse:collapse}.convo-chat .card-footer .convo-form-input[disabled=\\"disabled\\"],.convo-chat .card-footer button.btn-send[disabled=\\"disabled\\"]{color:#bbb;outline-color:#bbb;border:1px solid #bbb}.convo-chat .card-footer button.btn-send:hover,.convo-chat .card-footer button.btn-send:focus{color:white;background-color:#2F74EA;outline-color:#2F74EA}.convo-chat .card-footer button.btn-send[disabled=\\"disabled\\"]:hover{color:#bbb;outline-color:#bbb;border:1px solid #bbb;background-color:white}.convo-chat .card-footer #message,.convo-chat .card-footer #send{margin:0;display:inline-block}.convo-chat .card-footer #chat #message{border-top-right-radius:0;border-bottom-right-radius:0}.convo-chat .card-footer #send{width:55px;border-radius:0 8px 8px 0;font-size:1em}.convo-chat .lds-ellipsis{position:relative;width:80px;height:40px;float:left}.convo-chat .lds-ellipsis div{position:absolute;top:13px;width:13px;height:13px;border-radius:50%;background:#aaa;animation-timing-function:cubic-bezier(0, 1, 1, 0)}.convo-chat .lds-ellipsis div:nth-child(1){left:8px;animation:lds-ellipsis1 0.6s infinite}.convo-chat .lds-ellipsis div:nth-child(2){left:8px;animation:lds-ellipsis2 0.6s infinite}.convo-chat .lds-ellipsis div:nth-child(3){left:32px;animation:lds-ellipsis2 0.6s infinite}.convo-chat .lds-ellipsis div:nth-child(4){left:56px;animation:lds-ellipsis3 0.6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0, 0)}100%{transform:translate(24px, 0)}}\\n", ""]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9jb252by1jaGF0LnNjc3M/YWIxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb252by1jaGF0IHByZT5jb2Rle2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo1cHggMTBweH0uY29udm8tY2hhdCBpbnB1dFt0eXBlPXRleHRde2ZvbnQtc2l6ZTowLjc1ZW07cGFkZGluZzo1cHggMTBweDtoZWlnaHQ6Mi41ZW19LmNvbnZvLWNoYXQgLmNoYXR7bGlzdC1zdHlsZTpub25lO21hcmdpbjowICFpbXBvcnRhbnQ7cGFkZGluZzowICFpbXBvcnRhbnR9LmNvbnZvLWNoYXQgLmNoYXQgbGl7cGFkZGluZzoycHggMnB4O21hcmdpbjowO3Bvc2l0aW9uOnJlbGF0aXZlO2NsZWFyOmJvdGh9LmNvbnZvLWNoYXQgLmNoYXQgbGkuYnJlYWt7bGluZS1oZWlnaHQ6OHB4fS5jb252by1jaGF0IC5yaWdodHtmbG9hdDpyaWdodH0uY29udm8tY2hhdCAubGVmdHtmbG9hdDpsZWZ0fS5jb252by1jaGF0IC5idG4tZ3JvdXAsLmNvbnZvLWNoYXQgLmJ0bi1ncm91cC12ZXJ0aWNhbHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5e21heC13aWR0aDo5MyU7cGFkZGluZzo1cHggMTBweDtib3JkZXItcmFkaXVzOjEycHg7Zm9udC1zaXplOjAuNzVlbX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGgxe2ZvbnQtc2l6ZToxLjc1ZW07Zm9udC13ZWlnaHQ6NjAwfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgaDJ7Zm9udC1zaXplOjEuNWVtO21hcmdpbi1ibG9jay1lbmQ6MC41ZW07Zm9udC13ZWlnaHQ6NjAwfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgaDN7Zm9udC1zaXplOjEuMjVlbTttYXJnaW4tYmxvY2stZW5kOjAuNWVtO2ZvbnQtd2VpZ2h0OjYwMH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGg0e2ZvbnQtc2l6ZToxZW07bWFyZ2luLWJsb2NrLWVuZDowLjVlbTtmb250LXdlaWdodDo1MDB9LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBjb2Rle2ZvbnQtc2l6ZTo4Ny41JTtjb2xvcjojZTgzZThjO3dvcmQtd3JhcDpicmVhay13b3JkfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgcHJle2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjg3LjUlO2NvbG9yOiMyMTI1Mjk7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MXJlbTtvdmVyZmxvdzphdXRvfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgcHJlIGNvZGV7Zm9udC1zaXplOmluaGVyaXQ7Y29sb3I6aW5oZXJpdDt3b3JkLWJyZWFrOm5vcm1hbDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC4wNyk7dW5pY29kZS1iaWRpOmVtYmVkfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgYmxvY2txdW90ZXttYXJnaW46MDtwYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7Ym9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsMC43KTtib3JkZXItbGVmdC13aWR0aDoycHh9LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBibG9ja3F1b3RlIHB7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxZW07bGluZS1oZWlnaHQ6MS41ZW19LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBpbWd7bWF4LXdpZHRoOjkwJX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IHVsLC5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgb2x7ZGlzcGxheTpibG9jaztsaXN0LXN0eWxlOmRpc2Mgb3V0c2lkZSBub25lO21hcmdpbjo1cHggMDtwYWRkaW5nOjAgMCAwIDE1cHg7bGluZS1oZWlnaHQ6MWVtO21hcmdpbi1ibG9jay1zdGFydDo1cHh9LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBvbHtsaXN0LXN0eWxlLXR5cGU6ZGVjaW1hbH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGxpe2Rpc3BsYXk6bGlzdC1pdGVtO21hcmdpbi1ib3R0b206MDtsaW5lLWhlaWdodDoxLjVlbX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGxpPnB7ZGlzcGxheTppbmxpbmV9LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keS5zeXN0ZW0tbWVzc2FnZXtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjojZWNlY2VjO3RleHQtYWxpZ246bGVmdDtib3JkZXI6MXB4IHNvbGlkICNlY2VjZWM7Y29sb3I6YmxhY2sgIWltcG9ydGFudH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5LnVzZXItbWVzc2FnZXtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlcjoxcHggc29saWQgIzU1OTVkZDtiYWNrZ3JvdW5kLWNvbG9yOiM1NTk1ZGQ7Y29sb3I6d2hpdGUgIWltcG9ydGFudH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IHB7bWFyZ2luOjVweCAwO2ZvbnQtc2l6ZTppbmhlcml0O2NvbG9yOmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdH0uY29udm8tY2hhdCAuY2hhdCAuY2hhdC1pbWcgaW1ne21hcmdpbjoycHggNnB4IDAgMDt3aWR0aDo0MHB4fS5jb252by1jaGF0IC5jYXJke3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dvcmQtd3JhcDpicmVhay13b3JkO2JhY2tncm91bmQtY29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNsaXA6Ym9yZGVyLWJveDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6MC41ZW07Ym94LXNoYWRvdzo1cHggNXB4IDI1cHggNXB4IHJnYmEoNDYsNjEsNzMsMC4yKX0uY29udm8tY2hhdCAuY2FyZC1oZWFkZXJ7YmFja2dyb3VuZC1jb2xvcjojMkY3NEVBO2NvbG9yOndoaXRlO3BhZGRpbmc6MC43NWVtIDFlbTttYXJnaW46LTFweDttYXJnaW4tYm90dG9tOjA7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgwLDAsMCwwLjEyNSk7Zm9udC13ZWlnaHQ6NjAwO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MC41ZW07Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MC41ZW19LmNvbnZvLWNoYXQgLmNhcmQtaGVhZGVyIGl7Zm9udC1zaXplOjEuNWVtfS5jb252by1jaGF0IC5jYXJkIC5zbGlkZWRvd24gLmZhLC5jb252by1jaGF0IC5jaGF0IC5mYXttYXJnaW4tcmlnaHQ6NXB4fS5jb252by1jaGF0IC5jYXJkLWJvZHl7b3ZlcmZsb3cteTpzY3JvbGx9LmNvbnZvLWNoYXQgLmNvbnZvLWZvcm0tZ3JvdXB7Zm9udC1mYW1pbHk6aW5oZXJpdDttYXJnaW4tYm90dG9tOjFlbX0uY29udm8tY2hhdCAuY29udm8tZm9ybS1ncm91cC5pbmxpbmUgaW5wdXQsLmNvbnZvLWNoYXQgLmNvbnZvLWZvcm0tZ3JvdXAuaW5saW5lIGJ1dHRvbntkaXNwbGF5OmlubGluZTtvdXRsaW5lLXdpZHRoOjFweDtvdXRsaW5lLW9mZnNldDotMXB4O291dGxpbmUtc3R5bGU6c29saWQ7b3V0bGluZS1jb2xvcjojYmJifS5jb252by1jaGF0IC5jb252by1mb3JtLWdyb3VwIC5jb252by1mb3JtLWlucHV0e2JvcmRlcjoxcHggc29saWQgI2JiYjtib3JkZXItcmFkaXVzOjhweDt3aWR0aDoxMDAlO3BhZGRpbmc6MC4zZW0gMC41ZW07dHJhbnNpdGlvbjpib3JkZXItY29sb3IgMTAwbXMgZWFzZS1pbi1vdXQ7Zm9udC1mYW1pbHk6aW5oZXJpdH0uY29udm8tY2hhdCAuY29udm8tZm9ybS1ncm91cCAuY29udm8tZm9ybS1pbnB1dDpmb2N1c3tvdXRsaW5lLWNvbG9yOiMyRjc0RUE7Ym9yZGVyLWNvbG9yOiMyRjc0RUF9LmNvbnZvLWNoYXQgaW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiNiYmJ9LmNvbnZvLWNoYXQgYnV0dG9uLmJ0biwuY29udm8tY2hhdCBhLmJ0bntib3JkZXItcmFkaXVzOjBweDtmb250LXNpemU6MC45ZW07Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Y29sb3I6d2hpdGU7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDUwbXMgZWFzZS1pbjtiYWNrZ3JvdW5kLWNvbG9yOiMyRjc0RUE7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3BhZGRpbmc6MDt0ZXh0LXRyYW5zZm9ybTpub25lO21hcmdpbjowIDJweCAwIDhweH0uY29udm8tY2hhdCAuY2FyZC1oZWFkZXIgLmJ0bi1ncm91cCBidXR0b24uYnRue21hcmdpbjowIDJweCAwIDhweCAhaW1wb3J0YW50fS5jb252by1jaGF0IGJ1dHRvbi5idG46aG92ZXIsLmNvbnZvLWNoYXQgYS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDA3YmZmO2N1cnNvcjpwb2ludGVyfS5jb252by1jaGF0IGJ1dHRvbi5idG4uc3RhcnQtY2hhdHtib3JkZXItcmFkaXVzOjUwJTtwYWRkaW5nOjAuNzVlbTtjdXJzb3I6cG9pbnRlcjtib3gtc2hhZG93OjVweCA1cHggMjVweCAwIHJnYmEoNDYsNjEsNzMsMC4yKX0uY29udm8tY2hhdCAjY2hhdHtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OnJvdyBub3dyYXA7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpzdHJldGNoO21hcmdpbi1ib3R0b206LTFweH0uY29udm8tY2hhdCAjY2hhdC1wYW5lbC1ib2R5e3BhZGRpbmc6MC41ZW19LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVye3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC4wMyl9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIGJ1dHRvbi5idG4tc2VuZHtjb2xvcjojMkY3NEVBO2JhY2tncm91bmQtY29sb3I6d2hpdGU7Ym9yZGVyOjFweCBzb2xpZCAjMkY3NEVBO291dGxpbmUtY29sb3I6IzJGNzRFQTtvdXRsaW5lLW9mZnNldDotMXB4O2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZX0uY29udm8tY2hhdCAuY2FyZC1mb290ZXIgLmNvbnZvLWZvcm0taW5wdXRbZGlzYWJsZWQ9XFxcImRpc2FibGVkXFxcIl0sLmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIGJ1dHRvbi5idG4tc2VuZFtkaXNhYmxlZD1cXFwiZGlzYWJsZWRcXFwiXXtjb2xvcjojYmJiO291dGxpbmUtY29sb3I6I2JiYjtib3JkZXI6MXB4IHNvbGlkICNiYmJ9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIGJ1dHRvbi5idG4tc2VuZDpob3ZlciwuY29udm8tY2hhdCAuY2FyZC1mb290ZXIgYnV0dG9uLmJ0bi1zZW5kOmZvY3Vze2NvbG9yOndoaXRlO2JhY2tncm91bmQtY29sb3I6IzJGNzRFQTtvdXRsaW5lLWNvbG9yOiMyRjc0RUF9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIGJ1dHRvbi5idG4tc2VuZFtkaXNhYmxlZD1cXFwiZGlzYWJsZWRcXFwiXTpob3Zlcntjb2xvcjojYmJiO291dGxpbmUtY29sb3I6I2JiYjtib3JkZXI6MXB4IHNvbGlkICNiYmI7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZX0uY29udm8tY2hhdCAuY2FyZC1mb290ZXIgI21lc3NhZ2UsLmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyICNzZW5ke21hcmdpbjowO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jb252by1jaGF0IC5jYXJkLWZvb3RlciAjY2hhdCAjbWVzc2FnZXtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyICNzZW5ke3dpZHRoOjU1cHg7Ym9yZGVyLXJhZGl1czowIDhweCA4cHggMDtmb250LXNpemU6MWVtfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXN7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6ODBweDtoZWlnaHQ6NDBweDtmbG9hdDpsZWZ0fS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2e3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxM3B4O3dpZHRoOjEzcHg7aGVpZ2h0OjEzcHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZDojYWFhO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAsIDEsIDEsIDApfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2Om50aC1jaGlsZCgxKXtsZWZ0OjhweDthbmltYXRpb246bGRzLWVsbGlwc2lzMSAwLjZzIGluZmluaXRlfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2Om50aC1jaGlsZCgyKXtsZWZ0OjhweDthbmltYXRpb246bGRzLWVsbGlwc2lzMiAwLjZzIGluZmluaXRlfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2Om50aC1jaGlsZCgzKXtsZWZ0OjMycHg7YW5pbWF0aW9uOmxkcy1lbGxpcHNpczIgMC42cyBpbmZpbml0ZX0uY29udm8tY2hhdCAubGRzLWVsbGlwc2lzIGRpdjpudGgtY2hpbGQoNCl7bGVmdDo1NnB4O2FuaW1hdGlvbjpsZHMtZWxsaXBzaXMzIDAuNnMgaW5maW5pdGV9QGtleWZyYW1lcyBsZHMtZWxsaXBzaXMxezAle3RyYW5zZm9ybTpzY2FsZSgwKX0xMDAle3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBsZHMtZWxsaXBzaXMzezAle3RyYW5zZm9ybTpzY2FsZSgxKX0xMDAle3RyYW5zZm9ybTpzY2FsZSgwKX19QGtleWZyYW1lcyBsZHMtZWxsaXBzaXMyezAle3RyYW5zZm9ybTp0cmFuc2xhdGUoMCwgMCl9MTAwJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDI0cHgsIDApfX1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///583\n')},546:module=>{eval('module.exports = "<div class=\\"convo-chat\\">\\n    <div ng-hide=\\"!collapsed\\">\\n        <button type=\\"button\\" class=\\"btn start-chat\\" title=\\"\\" ng-click=\\"open()\\">\\n            <i class=\\"fa fa-comment fa-2x\\"></i>\\n        </button>\\n    </div>\\n    <div class=\\"card\\" ng-hide=\\"collapsed\\">\\n        <div class=\\"card-header\\">\\n\x3c!--             <i class=\\"fa fa-comment fa-2x\\"></i>  --\x3e\\n            {{ name }}\\n            <div class=\\"btn-group right\\">\\n\\t            <button type=\\"button\\" class=\\"btn\\" title=\\"Minimize chatbox\\" ng-click=\\"close()\\">\\n                    <i class=\\"fa fa-window-minimize\\"></i>\\n                </button>\\n\\t            <button type=\\"button\\" class=\\"btn\\" title=\\"End chat session\\" ng-click=\\"reset()\\">\\n                    <i class=\\"fa fa-window-close\\"></i>\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\\"panel-collapse\\" id=\\"collapseOne\\">\\n            <div class=\\"card-body\\" id=\\"chat-panel-body\\">\\n                <ul class=\\"chat\\">\\n                    <li class=\\"clearfix\\" ng-repeat=\\"message in messages track by $index\\" \\n                        ng-class=\\"{ \'break\' : message.type == \'break\'}\\">\\n                        <div ng-if=\\"message.type != \'break\'\\" class=\\"clearfix chat-body\\" \\n                        ng-class=\\"{ \'right user-message\' : message.source == \'user\', \'left system-message\' : message.source == \'convo\'}\\"\\n                        ng-bind-html=\\"applyMarkdown( message)\\"></div>\\n                    </li>\\n                </ul>\\n                <div style=\\"height:6px; clear: both;\\"></div>\\n                <div class=\\"lds-ellipsis\\" ng-if=\\"isSending()\\"><div></div><div></div><div></div><div></div></div>\\n            </div>\\n            <div class=\\"card-footer\\">\\n                <form ng-submit=\\"formSubmitted()\\">\\n                    <div class=\\"convo-form-group inline\\" id=\\"chat\\">\\n                        \\n                        <input ng-model=\\"message\\" autocomplete=\\"off\\" id=\\"message\\" type=\\"text\\"\\n                               class=\\"convo-form-input\\" placeholder=\\"Type your message here...\\" ng-disabled=\\"isSending()\\">\\n                        <button ng-disabled=\\"formDisabled()\\" class=\\"btn btn-send\\" id=\\"send\\" type=\\"submit\\">\\n                            <i class=\\"fa fa-paper-plane\\"></i>\\n                        </button>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ2LmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvY2hhdGJveC50bXBsLmh0bWw/ZmFhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29udm8tY2hhdFxcXCI+XFxuICAgIDxkaXYgbmctaGlkZT1cXFwiIWNvbGxhcHNlZFxcXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBzdGFydC1jaGF0XFxcIiB0aXRsZT1cXFwiXFxcIiBuZy1jbGljaz1cXFwib3BlbigpXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY29tbWVudCBmYS0yeFxcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkXFxcIiBuZy1oaWRlPVxcXCJjb2xsYXBzZWRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC1oZWFkZXJcXFwiPlxcbjwhLS0gICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNvbW1lbnQgZmEtMnhcXFwiPjwvaT4gIC0tPlxcbiAgICAgICAgICAgIHt7IG5hbWUgfX1cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgcmlnaHRcXFwiPlxcblxcdCAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuXFxcIiB0aXRsZT1cXFwiTWluaW1pemUgY2hhdGJveFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdpbmRvdy1taW5pbWl6ZVxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG5cXHQgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0blxcXCIgdGl0bGU9XFxcIkVuZCBjaGF0IHNlc3Npb25cXFwiIG5nLWNsaWNrPVxcXCJyZXNldCgpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aW5kb3ctY2xvc2VcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlXFxcIiBpZD1cXFwiY29sbGFwc2VPbmVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtYm9keVxcXCIgaWQ9XFxcImNoYXQtcGFuZWwtYm9keVxcXCI+XFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiY2hhdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcImNsZWFyZml4XFxcIiBuZy1yZXBlYXQ9XFxcIm1lc3NhZ2UgaW4gbWVzc2FnZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGFzcz1cXFwieyAnYnJlYWsnIDogbWVzc2FnZS50eXBlID09ICdicmVhayd9XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLWlmPVxcXCJtZXNzYWdlLnR5cGUgIT0gJ2JyZWFrJ1xcXCIgY2xhc3M9XFxcImNsZWFyZml4IGNoYXQtYm9keVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xhc3M9XFxcInsgJ3JpZ2h0IHVzZXItbWVzc2FnZScgOiBtZXNzYWdlLnNvdXJjZSA9PSAndXNlcicsICdsZWZ0IHN5c3RlbS1tZXNzYWdlJyA6IG1lc3NhZ2Uuc291cmNlID09ICdjb252byd9XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nLWJpbmQtaHRtbD1cXFwiYXBwbHlNYXJrZG93biggbWVzc2FnZSlcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cXFwiaGVpZ2h0OjZweDsgY2xlYXI6IGJvdGg7XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibGRzLWVsbGlwc2lzXFxcIiBuZy1pZj1cXFwiaXNTZW5kaW5nKClcXFwiPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC1mb290ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8Zm9ybSBuZy1zdWJtaXQ9XFxcImZvcm1TdWJtaXR0ZWQoKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb252by1mb3JtLWdyb3VwIGlubGluZVxcXCIgaWQ9XFxcImNoYXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cXFwibWVzc2FnZVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIGlkPVxcXCJtZXNzYWdlXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiY29udm8tZm9ybS1pbnB1dFxcXCIgcGxhY2Vob2xkZXI9XFxcIlR5cGUgeW91ciBtZXNzYWdlIGhlcmUuLi5cXFwiIG5nLWRpc2FibGVkPVxcXCJpc1NlbmRpbmcoKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1kaXNhYmxlZD1cXFwiZm9ybURpc2FibGVkKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNlbmRcXFwiIGlkPVxcXCJzZW5kXFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcGFwZXItcGxhbmVcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///546\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(g){var I=__webpack_module_cache__[g];if(void 0!==I)return I.exports;var C=__webpack_module_cache__[g]={id:g,exports:{}};return __webpack_modules__[g].call(C.exports,C,C.exports,__webpack_require__),C.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(g,I,C,n)=>{if(!I){var A=1/0;for(o=0;o<deferred.length;o++){for(var[I,C,n]=deferred[o],c=!0,e=0;e<I.length;e++)(!1&n||A>=n)&&Object.keys(__webpack_require__.O).every((g=>__webpack_require__.O[g](I[e])))?I.splice(e--,1):(c=!1,n<A&&(A=n));if(c){deferred.splice(o--,1);var t=C();void 0!==t&&(g=t)}}return g}n=n||0;for(var o=deferred.length;o>0&&deferred[o-1][2]>n;o--)deferred[o]=deferred[o-1];deferred[o]=[I,C,n]},__webpack_require__.n=g=>{var I=g&&g.__esModule?()=>g.default:()=>g;return __webpack_require__.d(I,{a:I}),I},__webpack_require__.d=(g,I)=>{for(var C in I)__webpack_require__.o(I,C)&&!__webpack_require__.o(g,C)&&Object.defineProperty(g,C,{enumerable:!0,get:I[C]})},__webpack_require__.o=(g,I)=>Object.prototype.hasOwnProperty.call(g,I),(()=>{var g={792:0};__webpack_require__.O.j=I=>0===g[I];var I=(I,C)=>{var n,A,[c,e,t]=C,o=0;if(c.some((I=>0!==g[I]))){for(n in e)__webpack_require__.o(e,n)&&(__webpack_require__.m[n]=e[n]);if(t)var l=t(__webpack_require__)}for(I&&I(C);o<c.length;o++)A=c[o],__webpack_require__.o(g,A)&&g[A]&&g[A][0](),g[A]=0;return __webpack_require__.O(l)},C=self.webpackChunkconvoworks_wp=self.webpackChunkconvoworks_wp||[];C.forEach(I.bind(null,0)),C.push=I.bind(null,C.push.bind(C))})(),__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__.O(void 0,[121],(()=>__webpack_require__(995)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();